<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../../assets/styles/basics.css">
    <script src="../../node_modules/gun/gun.js"></script>
    <script src="../../node_modules/gun/sea.js"></script>
  </head>
  <body>
    <nav><a href="../../index.html">« codelabs</a></nav>

    <section id="pastebin">
      <h3>Public paste-bin</h3>
      <button id="button_clear">Clear</button></br></br>
      <textarea id="paste_area" placeholder="paste here!"></textarea>
    </section>

    <section id="explainer">
      A <em>public pastebin</em> adapted from the <cite>
      <a href="https://gun.eco/docs/Hello-World">‹Hello World› tutorial</a>
      </cite> of GUN.
    </section>

    <script>
      const gun = Gun([ 'http://localhost:8765/gun',
                        'https://gun-manhattan.herokuapp.com/gun' ]);

      copy = gun.get('test').get('paste');
      paste_area.oninput = () => { copy.put(paste_area.value) };
      copy.on((data) => { paste_area.value = data });
    </script>

    <script>
      const button_clear = document.getElementById("button_clear");
      button_clear.addEventListener("click", () => {
        document.getElementById("paste_area").placeholder = "Cleared.";
        copy = gun.get("test").get("paste").put("");
      });
    </script>
  </body>
</html>